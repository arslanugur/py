# 01. Maximum Element
#!/usr/bin/env python3

if __name__ == "__main__":
    stack = []
    ops_cnt = int(input().strip())
    max_elem = 0
    
    for _ in range(ops_cnt):
        args = list(map(int, input().strip().split()))
        
        if args[0] == 1:
            max_elem = max(max_elem, args[1])
            stack.append(args[1])
        if args[0] == 2:
            if stack.pop() == max_elem:
                if len(stack) > 0:
                    max_elem = max(stack)
                else:
                    max_elem = 0
        if args[0] == 3:
            print(max_elem)



# 02. Equal Stacks
#!/bin/python3

import sys

if __name__ == "__main__":
    n1,n2,n3 = input().strip().split(' ')
    n1,n2,n3 = [int(n1),int(n2),int(n3)]
    h1 = [int(h1_temp) for h1_temp in input().strip().split(' ')]
    h2 = [int(h2_temp) for h2_temp in input().strip().split(' ')]
    h3 = [int(h3_temp) for h3_temp in input().strip().split(' ')]
    stacks = [h1[::-1], h2[::-1], h3[::-1]]
    stack_sums = [sum(stacks[i]) for i in range(3)]
    
    while len({stack_sums[i] for i in range(3)}) > 1:
        tallest_stack = max(stack_sums)
        index = stack_sums.index(tallest_stack)
        removed = stacks[index].pop()
        stack_sums[index] -= removed
        
    print(min([sum(stacks[i]) for i in range(3)]))
    


# 03. Balanced Brackets
#!/bin/python3

import sys

def isBalanced(s):
    stack = []
 
    for letter in s:
        if letter == '{':
            stack.append(1)
        elif letter == '[':
            stack.append(2)
        elif letter == '(':
            stack.append(3)
        elif letter == '}':
            if len(stack) == 0:
                return False
            if stack.pop() != 1:
                return False
        elif letter == ']':
            if len(stack) == 0:
                return False
            if stack.pop() != 2:
                return False
        elif letter == ')':
            if len(stack) == 0:
                return False
            if stack.pop() != 3:
                return False
 
    return len(stack) == 0

if __name__ == "__main__":
    t = int(input().strip())
    for a0 in range(t):
        s = input().strip()
        result = isBalanced(s)
        if result is True:
            print('YES')
        else:
            print('NO')



# 04. Game of Two Stacks
#!/bin/python3

import sys


g = int(input().strip())
for a0 in range(g):
    n,m,x = input().strip().split(' ')
    n,m,x = [int(n),int(m),int(x)]
    a = list(map(int, input().strip().split(' ')))
    b = list(map(int, input().strip().split(' ')))
    
    a = a[::-1]
    b = b[::-1]
    
    handy_stack = []
    el_count = 0
    total = 0
    
    while len(a) > 0:
        if total + a[-1] <= x:
            temp = a.pop()
            handy_stack.append(temp)
            total += temp
            el_count += 1
        else:
            break
            
    
    total_b = 0
    while len(b) > 0:
        if total_b + b[-1] <= x:
            if total + b[-1] <= x:
                temp = b.pop()
                total += temp
                total_b += temp
                el_count += 1
            else:
                temp = b.pop()
                total = total - handy_stack.pop() + temp
                total_b += temp
        else:
            break
            
    print(el_count)
                
            
        
# 05. Largest Rectangle
#!/bin/python3

import sys

def largestRectangle(h):
    res = 0
    
    for i in range(len(h)):
        length = 0
        for j in range(i, -1, -1):
            if h[j] >= h[i]:
                length += 1
            else:
                break
                
        for j in range(i+1, len(h)):
            if h[j] >= h[i]:
                length += 1
            else:
                break
        
        res = max(res, length*h[i])
            
    return res

if __name__ == "__main__":
    n = int(input().strip())
    h = list(map(int, input().strip().split(' ')))
    result = largestRectangle(h)
    print(result)



# 06. Simple Text Editor
#!/usr/bin/env python3

if __name__ == "__main__":
    ops_cnt = int(input().strip())
    current = ''
    history = []
    
    for _ in range(ops_cnt):
        args = input().strip().split(' ')
        
        if args[0] == '1':
            current += args[1]
            history.append([args[0], len(args[1])])
        elif args[0] == '2':
            deleted = current[-int(args[1]):]
            #print("deleted = {}".format(deleted))
            current = current[:-int(args[1])]
            #print("current = {}".format(current))
            history.append([args[0], deleted])
        elif args[0] == '3':
            #print(str("".join(current))[int(args[1]) - 1])
            print(current[int(args[1]) - 1])
        elif args[0] == '4':
            undo = history.pop()
            if undo[0] == '1':
                current = current[:-int(undo[1])]
            elif undo[0] == '2':
                current += undo[1]


# 07. Waiter
#!/usr/bin/env python3

import sys

def gen_primes(n):
    nroot = int(n**(0.5))
    sieve = list(range(n+1))
    sieve[1] = 0
    
    for i in range(2, nroot+1):
        if sieve[i] != 0:
            m = n//i - i
            sieve[i*i: n+1:i] = [0] * (m+1)
    
    return [x for x in sieve if x !=0]

if __name__ == "__main__":
    n, q = input().strip().split(' ')
    n, q = [int(n), int(q)]
    plates = list(map(int, input().strip().split(' ')))
    primes = gen_primes(10000)
    
    b_stacks = []
    plate_stacks = [plates, []]
    for ind in range(q):
        a_ind = int(ind % 2)
        b = []
        while len(plate_stacks[a_ind]) > 0:
            pl = plate_stacks[a_ind].pop()
            if pl % primes[ind] == 0:
                b.append(pl)
            else:
                plate_stacks[1 - a_ind].append(pl)
        b_stacks.append(b)
            
    for b in b_stacks:
        if len(b) > 0:
            print(*b[::-1], sep='\n')
    for pl in plate_stacks:
        if len(pl) > 0:
            print(*pl[::-1], sep='\n')



# 08. Poisonous Plants

# 09. AND xor OR
